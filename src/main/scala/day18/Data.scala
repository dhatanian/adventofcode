package day18

object Data {
  def parse(s: String) = {
    val data = s.split("\n")
    val result = Array.fill(data(0).length, data.length)('.')

    data.zipWithIndex.foreach({
      case (line, y) => line.zipWithIndex.foreach({
        case (cell, x) => result(x)(y) = cell
      })
    })

    result
  }

  def printGrid(grid: Array[Array[Char]]) = {
    for (y <- grid(0).indices) {
      for (x <- grid.indices) {
        print(grid(x)(y))
      }
      println()
    }
    println()
  }

  val example = parse(
    """.#.#...|#.
      |.....#|##|
      |.|..|...#.
      |..|#.....#
      |#.#|||#|#|
      |...#.||...
      |.|....|...
      |||...#|.#|
      ||.||||..|.
      |...#.|..|.""".stripMargin)

  val data = parse(
    """#.|..#...|#...#...|.|....|..|...#.|...#..|.|.|.|#.
      |.....|.#...|....#|....||#.|###.......#.#|.##.|...|
      |...#|.....||..|..|||.#......#..|.#..|..|..#.....|.
      |..|..#.....###.#|.....|.|...##.##......|#...|##...
      |....###.......|...|..||...#||.##..|.|.|.#|..|.#...
      ||..|#......|#.|..#.#....||...|.#||....|#....#.#...
      |.|..#.|.|..|.#|.#|.#......#..###.|||.#.|.....#...#
      |..|.|.....||......|...|#....|....##.|.|..|..#.#...
      |.......##.#..|.|.........|...|..#|.|#.#..||#|...|.
      |.|###|...|.....|..#.|..|#...|.............|.......
      ||........##.|.#.##.|##.##..#|..#|.|..|.|....|.....
      ||.....#|#..#|.|..#..#|...|.#..|#.........|#....|..
      |..|.#........#........#..||#|.#.........#.|#||.|||
      |.|##...#..||.....|.|..|..|...|...|..#.....#.###|..
      |..#|.#|#...|#.|||#..#|#...##.|||#...#.|.|...#.|...
      |...|...#|..###...#.....|..|...|#..........|..|.|..
      |#||||.|#.##|....|..||...|##|.....|.|#||..##..||.||
      |.||.#..|..|||#.#.#|....#..##|#|...|.|#..||..#...#.
      |..#..#.||.|...|.|||.|#|..#..|.#.........|...#.#|..
      ||...||#.####||.......#..|#|.#|..|#..#.|....###|#|.
      |.|.|||.#..#..#.####.##..|#||.#..|#...|...||....|..
      |.....||#|...#.##........|..##...#...|..##|#.##....
      |..|#.|#....|##.#|#.#|..#.#......|#....###.##...#.|
      |..|.#....##...|||..|.#|#..|..|..||#.....#.#..#....
      |..|..||..##....#.......#..|......|...#.#.##...||#.
      |..............######|#...|###.##......#...#.|..#.|
      |.#..|......##..#..||###|.||....#...||..#.##.#.#.||
      |##.##......##.#|..|.#.#....|#|#|..|#.##|...|.||#..
      ||.#...##.|#|.|..|.||.|||.......##..#.#..|...##.|..
      |....#...#...#||.#.#..#...##.#.#...|#.#..#...|..#.|
      |....#....|.....||.....|.|#.|.|..||..|#........|...
      |..#...#...|...###.|..#.#.||||....|.....#|........|
      |##|#..#.#|#..|.||..||..|.||##..##|#.|.##|....#....
      ||.#|#||.#...#|...#...#|.##.|..##..||#.||#|......|#
      ||#|..|.||...#...|####...#....#|...|..#..##...|###.
      |....##.#.|..|......##...|#.###..#....|###.##.||##|
      ||..#....#..|#.........|....|....##...#....#.#..|..
      |.......|..|..#...#....##..#.|.#|..#..|.#.#..|||...
      |..##||.....#..|....|..|#.|#...#.#|....#|#..||#..|.
      |.#...##.#..#..#..#..|#..#.......||...#.#.|.##...|.
      |#..|.#.#...#.|...##|..#.#|##.......|.|..#.|#.....#
      |..|...#|..#|...#......#..#....|.|.#..#..|#|...#..#
      |.#..##.|.#.##|..##..||.....|#|.|...|..|..#.....|##
      |.....#...|....|..|..........##.#..|..###.||#...#|#
      |.#....|......#.#.#.#..#..#..|.....|..|..|.|...#..#
      |#|....##....###......#.|..|.#..|..|..|||.##.#....#
      |.|||##.||......#|.#...|......|...|...#.#..#..#..|#
      ||.#...#|.#|.##......##...#....|.|..|....#.||#.....
      |.#..|.|.|...|#..#.####|..#..###.....#.##...###.#..
      |.#.........|.#......|...##.#|...|.####..|...#.###|""".stripMargin)

  def main(args: Array[String]) {
    printGrid(example)
  }
}
